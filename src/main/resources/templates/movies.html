<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
<meta charset="UTF-8">
<title>List Movie</title>
<link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}">
</head>
<body>
<div class="container row">
		User: <span style="color:red" sec:authentication="name"></span>
	
		&nbsp;Role:<span style="color:red" sec:authentication="principal.authorities"></span>&nbsp;
	<form th:action="@{/logout}" 
			   method="POST">
	
		<input type="submit" value="Logout" />
	
	</form>	

&nbsp;
<a class="h4"  style="color:green;margin-left:420px "th:href="@{/movie/new}">Create Movie</a>

&nbsp;
<a class="h4" style="color:blue;margin-left:20px " th:href="@{/actor/new}">Create Actor</a>
</div>
<br></br>
<div class="container">

<div class="container " >
 <form th:action="@{/movies}" method="get">
 <div class="form-group row" style="margin-left:100px">

 <input type="search"  placeholder="Search" id="form1" class="form-control col-sm-4"name="keyword">
  &nbsp;
 <button class="btn btn-primary col-sm-2" type="submit">Go</button>
 </div>
 </form>
 </div>
 
 <div>
	<table class="table table-bordered">
		<thead class="thead-dark">
		   <tr>
			
			<th>Name</th>
			<th>type</th>
				<th ><a th:href="@{/moviesSorted}">Year</a> </th>
			<th>description</th>
				<th>media</th>
			<th>language</th>
			<th>actors</th>
		   </tr>
		</thead>
		<tbody>
			<th:block th:each="movie :${listMovies}">
			<tr>
				
				<td>[[${movie.name}]]</td>
				<td>[[${movie.type}]]</td>
				<td>[[${movie.year}]]</td>
				<td>[[${movie.description}]]</td>
				<td>[[${movie.media}]]</td>
				<td>[[${movie.language}]]</td>
				<td>[[${movie.actors}]]</td>
				<td>
				<a th:href="@{'/movie/edit/'+${movie.id}}">Edit</a>
				&nbsp;
				<a th:href="@{'/movie/delete/'+${movie.id}}" style="color:red">Delete</a>
				</td>
			</tr>
			
			</th:block>
		</tbody>
	</table>

</div>


</div>
</body>
</html>